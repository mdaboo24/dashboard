{"version":3,"file":"js/421.5397e967.js","mappings":"iMAGO,MAAMA,GAAmBC,EAAAA,EAAAA,IAAY,CAC1CC,GAAI,mBACJC,MAAOA,KAAA,CACLA,OAAOC,EAAAA,EAAAA,IAAS,CACdC,SAAU,SAGdC,QAAS,CACPC,YAAAA,CAAaC,GACXC,KAAKN,MAAME,SAAWG,CACxB,GAEFE,QAAS,CACPC,WAAAA,GACE,OAAOF,KAAKN,MAAME,QACpB,I,ghECTJ,MAAMO,GAAiBC,EAAAA,EAAAA,KAAI,GAErBC,GAAUD,EAAAA,EAAAA,IAAI,CAClB,CACEE,KAAM,UACNC,KAAM,2FAER,CACED,KAAM,sBACNC,KAAM,kFAER,CACED,KAAM,OACNC,KAAM,8GAER,CACED,KAAM,OACNC,KAAM,+DAGVC,EAAAA,EAAAA,KAAUC,UACRb,GAASc,YAAcC,GAAMT,YAC7BU,IAAgB,IAGlB,MAAMD,IAAQpB,EAAAA,EAAAA,KACRK,IAAWQ,EAAAA,EAAAA,MAEXS,IAAYT,EAAAA,EAAAA,KAAI,GAChBU,IAAWV,EAAAA,EAAAA,KAAI,GAGfW,IAAOpB,EAAAA,EAAAA,IAAS,CACpBqB,UAAW,GACXC,SAAU,GACVC,SAAU,GACVC,IAAK,GACLC,OAAQ,GACRC,MAAO,GACPC,KAAM,MAGFC,GAAeb,IACnB,IAAIc,EAAW,aACf,QAAIA,EAASC,KAAKf,EAIlB,EAGIgB,GAAQ,CACZV,UAAW,CACTW,SAAUC,EAAAA,GAAQC,YAAY,yBAA0BF,EAAAA,IACxDJ,YAAaK,EAAAA,GAAQC,YAAY,wBAAyBN,KAE5DN,SAAU,CACRU,SAAUC,EAAAA,GAAQC,YAAY,wBAAyBF,EAAAA,IACvDJ,YAAaK,EAAAA,GAAQC,YAAY,uBAAwBN,KAE3DL,SAAU,CACRS,SAAUC,EAAAA,GAAQC,YAAY,uBAAwBF,EAAAA,IACtDJ,YAAaK,EAAAA,GAAQC,YAAY,sBAAuBN,KAE1DJ,IAAK,CACHQ,SAAUC,EAAAA,GAAQC,YAAY,kBAAmBF,EAAAA,IACjDJ,YAAaK,EAAAA,GAAQC,YAAY,iBAAkBN,KAErDH,OAAQ,CACNO,SAAUC,EAAAA,GAAQC,YAAY,qBAAsBF,EAAAA,KAEtDN,MAAO,CACLM,SAAUC,EAAAA,GAAQC,YAAY,qBAAsBF,EAAAA,KAEtDL,KAAM,CAAC,GAGHQ,IAAKC,EAAAA,EAAAA,IAAaL,GAAOX,IAEzBiB,GAASvB,UAGb,GAFAI,GAAUH,OAAQ,EAClBuB,QAAQC,IAAInB,KACPoB,EACH,OAGF,IAAIC,EAAMC,KAAKC,MAAMD,KAAKE,UAAUxB,KACpCkB,QAAQC,IAAIE,GACZI,MAAMC,iBACNC,IAAW,EAGPA,GAAYA,KAChB,IAAK,MAAMC,KAAO5B,GAChBA,GAAK4B,GAAO,GAGd9B,GAAUH,OAAQ,CAAK,EAGnBkC,GAAgBA,KACpB9B,GAASJ,OAAQ,CAAK,EAGlBE,GAAiBA,KACrBG,GAAKC,UAAYpB,GAASc,OAAOM,UACjCD,GAAKE,SAAWrB,GAASc,OAAOO,SAChCF,GAAKG,SAAWtB,GAASc,OAAOQ,SAChCH,GAAKI,IAAMvB,GAASc,OAAOS,IAC3BJ,GAAKK,OAASxB,GAASc,OAAOmC,aAC9B9B,GAAKM,MAAQzB,GAASc,OAAOW,MAC7BN,GAAKO,KAAO1B,GAASc,OAAOoC,IAAI,EAI5BC,IAAS3C,EAAAA,EAAAA,IAAI,CACjB,CAAE4C,KAAM,sBAAuBC,OAAQ,gBAAiBC,KAAM,KAC9D,CAAEF,KAAM,sBAAuBC,OAAQ,gBAAiBC,KAAM,KAC9D,CAAEF,KAAM,sBAAuBC,OAAQ,eAAgBC,KAAM,KAC7D,CAAEF,KAAM,sBAAuBC,OAAQ,gBAAiBC,KAAM,KAC9D,CAAEF,KAAM,sBAAuBC,OAAQ,eAAgBC,KAAM,KAC7D,CAAEF,KAAM,sBAAuBC,OAAQ,gBAAiBC,KAAM,KAC9D,CAAEF,KAAM,sBAAuBC,OAAQ,gBAAiBC,KAAM,KAC9D,CAAEF,KAAM,sBAAuBC,OAAQ,eAAgBC,KAAM,KAC7D,CAAEF,KAAM,sBAAuBC,OAAQ,gBAAiBC,KAAM,KAC9D,CAAEF,KAAM,sBAAuBC,OAAQ,eAAgBC,KAAM,O,y4KCjI/D,MAAMC,GAAc,GAEpB,S","sources":["webpack://identity-backoffice/./src/store/useStore.js","webpack://identity-backoffice/./src/views/UserInfo.vue","webpack://identity-backoffice/./src/views/UserInfo.vue?8e17"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { reactive } from \"vue\";\r\n\r\nexport const useUserDataStore = defineStore({\r\n  id: \"useUserDataStore\",\r\n  state: () => ({\r\n    state: reactive({\r\n      userData: null,\r\n    }),\r\n  }),\r\n  actions: {\r\n    saveUserdata(Obj) {\r\n      this.state.userData = Obj;\r\n    },\r\n  },\r\n  getters: {\r\n    getUserData() {\r\n      return this.state.userData;\r\n    },\r\n  },\r\n});\r\n","<script setup>\r\nimport { onMounted, ref, reactive } from \"vue\";\r\nimport { useUserDataStore } from \"@/store/useStore\";\r\nimport { required, helpers } from \"@vuelidate/validators\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport * as CommonFunctions from \"../common/ValidationResponseFormatter\";\r\n\r\nimport userProfileTemplate from \"../templates/userProfileTemplate.vue\";\r\n\r\nconst DisableEditing = ref(true);\r\n\r\nconst NGOList = ref([\r\n  {\r\n    Name: \"Caritas\",\r\n    logo: \"https://www.caritas.org/wordpress/wp-content/uploads/2017/05/logo-Caritas-Mauritius.gif\",\r\n  },\r\n  {\r\n    Name: \"Enn Rev Enn Sourire\",\r\n    logo: \"https://www.ennrevennsourir.org/wp-content/themes/crowdfunding/images/logo.png\",\r\n  },\r\n  {\r\n    Name: \"Yuva\",\r\n    logo: \"https://i0.wp.com/yuva.info/wp-content/uploads/2022/06/YUVA-website-logo-topper.jpg?resize=768%2C286&ssl=1\",\r\n  },\r\n  {\r\n    Name: \"Pils\",\r\n    logo: \"https://pils.mu/wp-content/uploads/2022/01/pils-logo.png\",\r\n  },\r\n]);\r\nonMounted(async () => {\r\n  userData.value = await store.getUserData;\r\n  BindTextFields();\r\n});\r\n\r\nconst store = useUserDataStore();\r\nconst userData = ref();\r\n\r\nconst submitted = ref(false);\r\nconst Download = ref(false);\r\n/* Start OF FORM VALIDATION */\r\n\r\nconst data = reactive({\r\n  FirstName: \"\",\r\n  LastName: \"\",\r\n  Username: \"\",\r\n  NIC: \"\",\r\n  Status: \"\",\r\n  Roles: \"\",\r\n  NGOs: \" \",\r\n});\r\n\r\nconst checkString = (value) => {\r\n  var regexVal = /[A-Za-z]+$/;\r\n  if (regexVal.test(value)) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst rules = {\r\n  FirstName: {\r\n    required: helpers.withMessage(\"First name is required\", required),\r\n    checkString: helpers.withMessage(\"First name is invalid\", checkString),\r\n  },\r\n  LastName: {\r\n    required: helpers.withMessage(\"Last name is required\", required),\r\n    checkString: helpers.withMessage(\"Last name is invalid\", checkString),\r\n  },\r\n  Username: {\r\n    required: helpers.withMessage(\"Username is required\", required),\r\n    checkString: helpers.withMessage(\"Username is invalid\", checkString),\r\n  },\r\n  NIC: {\r\n    required: helpers.withMessage(\"NIC is required\", required),\r\n    checkString: helpers.withMessage(\"NIC is invalid\", checkString),\r\n  },\r\n  Status: {\r\n    required: helpers.withMessage(\"Status is required\", required),\r\n  },\r\n  Roles: {\r\n    required: helpers.withMessage(\"Roles are required\", required),\r\n  },\r\n  NGOs: {},\r\n};\r\n\r\nconst v$ = useVuelidate(rules, data);\r\n\r\nconst submit = async (isFormValid) => {\r\n  submitted.value = true;\r\n  console.log(data);\r\n  if (!isFormValid) {\r\n    return;\r\n  }\r\n\r\n  let obj = JSON.parse(JSON.stringify(data));\r\n  console.log(obj);\r\n  event.preventDefault();\r\n  clearForm();\r\n};\r\n\r\nconst clearForm = () => {\r\n  for (const key in data) {\r\n    data[key] = \"\";\r\n  }\r\n\r\n  submitted.value = false;\r\n};\r\n\r\nconst CloseDownload = () => {\r\n  Download.value = false;\r\n};\r\n\r\nconst BindTextFields = () => {\r\n  data.FirstName = userData.value?.FirstName;\r\n  data.LastName = userData.value?.LastName;\r\n  data.Username = userData.value?.Username;\r\n  data.NIC = userData.value?.NIC;\r\n  data.Status = userData.value?.IsUserActive;\r\n  data.Roles = userData.value?.Roles;\r\n  data.NGOs = userData.value?.Ngos;\r\n};\r\n\r\n/* END OF FORM VALIDATION */\r\nconst events = ref([\r\n  { date: \"01/01/2024 13:00:00\", status: \"Login success\", code: 200 },\r\n  { date: \"02/01/2024 15:00:00\", status: \"Login success\", code: 200 },\r\n  { date: \"03/01/2024 13:20:00\", status: \"Login failed\", code: 500 },\r\n  { date: \"04/01/2024 16:03:00\", status: \"Login success\", code: 200 },\r\n  { date: \"05/01/2024 14:29:00\", status: \"Login failed\", code: 500 },\r\n  { date: \"01/01/2024 13:00:00\", status: \"Login success\", code: 200 },\r\n  { date: \"02/01/2024 15:00:00\", status: \"Login success\", code: 200 },\r\n  { date: \"03/01/2024 13:20:00\", status: \"Login failed\", code: 500 },\r\n  { date: \"04/01/2024 16:03:00\", status: \"Login success\", code: 200 },\r\n  { date: \"05/01/2024 14:29:00\", status: \"Login failed\", code: 500 },\r\n]);\r\n</script>\r\n<template>\r\n  <div class=\"grid m-2\">\r\n    <div class=\"col-12 lg:col-8\">\r\n      <div class=\"surface-card p-4 shadow-2 border-round\">\r\n        <div class=\"surface-section px-4 py-5\">\r\n          <div class=\"grid\">\r\n            <div class=\"col-4\">\r\n              <span class=\"text-3xl font-medium text-900\">User Profile</span>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <div class=\"grid\" style=\"text-align: center; width: 100%\">\r\n                <div class=\"col-4 lg:col-4\">\r\n                  <Button\r\n                    v-if=\"DisableEditing\"\r\n                    label=\"Edit\"\r\n                    class=\"w-full\"\r\n                    severity=\"secondary\"\r\n                    icon=\"pi pi-pencil\"\r\n                    @click=\"DisableEditing = false\"\r\n                  ></Button>\r\n\r\n                  <Button\r\n                    label=\"Cancel\"\r\n                    severity=\"danger\"\r\n                    class=\"w-full\"\r\n                    icon=\"pi pi-times\"\r\n                    v-if=\"!DisableEditing\"\r\n                    @click=\"\r\n                      DisableEditing = true;\r\n                      BindTextFields();\r\n                    \"\r\n                  ></Button>\r\n                </div>\r\n                <div class=\"col-4 lg:col-4\">\r\n                  <Button\r\n                    label=\"Activate\"\r\n                    v-if=\"!userData?.IsUserActive\"\r\n                    severity=\"success\"\r\n                    class=\"w-full\"\r\n                    icon=\"pi pi-power-off\"\r\n                  ></Button>\r\n                  <Button\r\n                    label=\"Disactivate\"\r\n                    v-if=\"userData?.IsUserActive\"\r\n                    severity=\"warning\"\r\n                    class=\"w-full\"\r\n                    icon=\"pi pi-power-off\"\r\n                  ></Button>\r\n                </div>\r\n                <div class=\"col-4 lg:col-4\">\r\n                  <Button\r\n                    outlined\r\n                    class=\"w-full\"\r\n                    severity=\"secondary\"\r\n                    icon=\"pi pi-download\"\r\n                    @click=\"\r\n                      Download = true\r\n                      // Download=false;\r\n                    \"\r\n                  ></Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <form @submit.prevent=\"submit(!v$.$invalid)\">\r\n          <div class=\"grid\">\r\n            <div class=\"col-12 lg:col-6\">\r\n              <label for=\"FirstName\" class=\"block text-900 font-medium mb-2\"\r\n                >First name</label\r\n              >\r\n              <InputText\r\n                id=\"FirstName\"\r\n                type=\"text\"\r\n                :disabled=\"DisableEditing\"\r\n                v-model=\"v$.FirstName.$model\"\r\n                placeholder=\"First name\"\r\n                :class=\"[\r\n                  {\r\n                    'p-invalid': v$.FirstName.$invalid && submitted,\r\n                    'w-full mb-2': true,\r\n                  },\r\n                ]\"\r\n              />\r\n              <small\r\n                v-if=\"v$.FirstName.$invalid && submitted\"\r\n                class=\"p-error\"\r\n                >{{\r\n                  CommonFunctions.ValidationResponseFormatter(v$.FirstName)\r\n                }}</small\r\n              >\r\n            </div>\r\n            <div class=\"col-12 lg:col-6\">\r\n              <label for=\"LastName\" class=\"block text-900 font-medium mb-2\"\r\n                >Last name</label\r\n              >\r\n              <InputText\r\n                id=\"LastName\"\r\n                type=\"text\"\r\n                :disabled=\"DisableEditing\"\r\n                v-model=\"v$.LastName.$model\"\r\n                placeholder=\"Last name\"\r\n                :class=\"[\r\n                  {\r\n                    'p-invalid': v$.LastName.$invalid && submitted,\r\n                    'w-full mb-2': true,\r\n                  },\r\n                ]\"\r\n              />\r\n              <small v-if=\"v$.LastName.$invalid && submitted\" class=\"p-error\">{{\r\n                CommonFunctions.ValidationResponseFormatter(v$.LastName)\r\n              }}</small>\r\n            </div>\r\n            <div class=\"col-12 lg:col-6\">\r\n              <label for=\"Username\" class=\"block text-900 font-medium mb-2\"\r\n                >Username</label\r\n              >\r\n              <InputText\r\n                id=\"Username\"\r\n                type=\"text\"\r\n                :disabled=\"DisableEditing\"\r\n                v-model=\"v$.Username.$model\"\r\n                placeholder=\"Username\"\r\n                :class=\"[\r\n                  {\r\n                    'p-invalid': v$.Username.$invalid && submitted,\r\n                    'w-full mb-2': true,\r\n                  },\r\n                ]\"\r\n              />\r\n              <small v-if=\"v$.Username.$invalid && submitted\" class=\"p-error\">{{\r\n                CommonFunctions.ValidationResponseFormatter(v$.Username)\r\n              }}</small>\r\n            </div>\r\n            <div class=\"col-12 lg:col-6\">\r\n              <label for=\"NIC\" class=\"block text-900 font-medium mb-2\"\r\n                >NIC</label\r\n              >\r\n              <InputText\r\n                id=\"NIC\"\r\n                type=\"text\"\r\n                :disabled=\"DisableEditing\"\r\n                v-model=\"v$.NIC.$model\"\r\n                placeholder=\"NIC\"\r\n                :class=\"[\r\n                  {\r\n                    'p-invalid': v$.NIC.$invalid && submitted,\r\n                    'w-full mb-2': true,\r\n                  },\r\n                ]\"\r\n              />\r\n              <small v-if=\"v$.NIC.$invalid && submitted\" class=\"p-error\">{{\r\n                CommonFunctions.ValidationResponseFormatter(v$.NIC)\r\n              }}</small>\r\n            </div>\r\n            <div class=\"col-12 lg:col-6\">\r\n              <label for=\"Status\" class=\"block text-900 font-medium mb-2\"\r\n                >Status</label\r\n              >\r\n              <Dropdown\r\n                id=\"Status\"\r\n                :disabled=\"DisableEditing\"\r\n                :options=\"[true, false]\"\r\n                v-model=\"v$.Status.$model\"\r\n                placeholder=\"Select Status\"\r\n                :class=\"[\r\n                  {\r\n                    'p-invalid': v$.Status.$invalid && submitted,\r\n                    'w-full mb-2': true,\r\n                  },\r\n                ]\"\r\n              />\r\n              <small v-if=\"v$.Status.$invalid && submitted\" class=\"p-error\">{{\r\n                CommonFunctions.ValidationResponseFormatter(v$.Status)\r\n              }}</small>\r\n            </div>\r\n            <div class=\"col-12 lg:col-6\">\r\n              <label for=\"Roles\" class=\"block text-900 font-medium mb-2\"\r\n                >Roles</label\r\n              >\r\n              <MultiSelect\r\n                v-model=\"v$.Roles.$model\"\r\n                :disabled=\"DisableEditing\"\r\n                :options=\"['Admin', 'Editor', 'Agent']\"\r\n                placeholder=\"Select roles\"\r\n                display=\"chip\"\r\n                class=\"w-full\"\r\n              >\r\n                <template #option=\"slotProps\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <div>{{ slotProps.option }}</div>\r\n                  </div>\r\n                </template>\r\n                <template #footer>\r\n                  <div class=\"py-2 px-3\">\r\n                    <b>{{ RolesVal ? RolesVal.length : 0 }}</b>\r\n                    item{{ (RolesVal ? RolesVal.length : 0) > 1 ? \"s\" : \"\" }}\r\n                    selected.\r\n                  </div>\r\n                </template>\r\n              </MultiSelect>\r\n              <small v-if=\"v$.Roles.$invalid && submitted\" class=\"p-error\">{{\r\n                CommonFunctions.ValidationResponseFormatter(v$.Roles)\r\n              }}</small>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <label for=\"Roles\" class=\"block text-900 font-medium mb-2\"\r\n                >NGOs</label\r\n              >\r\n              <MultiSelect\r\n                v-model=\"v$.NGOs.$model\"\r\n                :options=\"NGOList\"\r\n                :disabled=\"DisableEditing\"\r\n                optionLabel=\"Name\"\r\n                placeholder=\"Select NGOs\"\r\n                display=\"chip\"\r\n                class=\"w-full\"\r\n              >\r\n                <template #option=\"slotProps\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <img\r\n                      :alt=\"slotProps.option.Name\"\r\n                      :src=\"slotProps.option.logo\"\r\n                      class=\"mr-2\"\r\n                      style=\"width: 18px\"\r\n                    />\r\n                    <div>{{ slotProps.option.Name }}</div>\r\n                  </div>\r\n                </template>\r\n                <template #footer>\r\n                  <div class=\"py-2 px-3\">\r\n                    <b>{{ NGOsVal ? NGOsVal.length : 0 }}</b>\r\n                    item{{ (NGOsVal ? NGOsVal.length : 0) > 1 ? \"s\" : \"\" }}\r\n                    selected.\r\n                  </div>\r\n                </template>\r\n              </MultiSelect>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <Button\r\n                v-if=\"!DisableEditing\"\r\n                label=\"Save\"\r\n                icon=\"pi pi-save\"\r\n                class=\"w-full p-3\"\r\n                type=\"submit\"\r\n              ></Button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-12 lg:col-4\">\r\n      <div\r\n        class=\"surface-card p-4 shadow-2 border-round section\"\r\n        style=\"max-height: 604px; min-height: 604px; overflow-y: auto\"\r\n      >\r\n        <div class=\"font-medium text-3xl text-900 mb-3\">Login</div>\r\n        <hr />\r\n        <br />\r\n        <Timeline :value=\"events\">\r\n          <template #opposite=\"slotProps\">\r\n            <small class=\"p-text-secondary\">{{ slotProps.item.date }}</small>\r\n          </template>\r\n          <template #content=\"slotProps\">\r\n            <Tag :severity=\"slotProps.item.code == 200 ? 'success' : 'danger'\">\r\n              {{ slotProps.item.status }}</Tag\r\n            >\r\n          </template>\r\n        </Timeline>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <userProfileTemplate\r\n    :data=\"userData\"\r\n    :CloseDownload=\"CloseDownload\"\r\n    v-if=\"Download\"\r\n  />\r\n</template>\r\n''\r\n<style>\r\n.section::-webkit-scrollbar {\r\n  width: 15px;\r\n}\r\n\r\n.section::-webkit-scrollbar-track {\r\n  background-color: transparent;\r\n  border-radius: 100px;\r\n}\r\n\r\n.section::-webkit-scrollbar-thumb {\r\n  border-radius: 100px;\r\n  border: 5px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #8070d4;\r\n}\r\n</style>\r\n","import script from \"./UserInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserInfo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UserInfo.vue?vue&type=style&index=0&id=53df31a2&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useUserDataStore","defineStore","id","state","reactive","userData","actions","saveUserdata","Obj","this","getters","getUserData","DisableEditing","ref","NGOList","Name","logo","onMounted","async","value","store","BindTextFields","submitted","Download","data","FirstName","LastName","Username","NIC","Status","Roles","NGOs","checkString","regexVal","test","rules","required","helpers","withMessage","v$","useVuelidate","submit","console","log","isFormValid","obj","JSON","parse","stringify","event","preventDefault","clearForm","key","CloseDownload","IsUserActive","Ngos","events","date","status","code","__exports__"],"sourceRoot":""}